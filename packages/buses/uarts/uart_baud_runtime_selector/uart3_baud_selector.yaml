select:
  - id: change_baud_rate_uart3
    name: "${friendly_name} ${uart3_radio_name} baud rate"
    platform: template
    options: ["115200", "230400", "460800", "921600"]
    initial_option: "115200"
    optimistic: true
    restore_value: true
    entity_category: config
    icon: mdi:swap-horizontal
    set_action:
      - lambda: |-
          id(hw_uart3).flush();
          uint32_t br = stoi(x);
          if (id(hw_uart3).get_baud_rate() != br) {
            id(hw_uart3).set_baud_rate(br);
            id(hw_uart3).load_settings();
          }
